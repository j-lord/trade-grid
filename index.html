<!--index.html-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->
    <link rel="stylesheet" type="text/css" href="./styles.css" />
    <header id="titlebar">
    <div id="drag-region"></div>
    </header>

    <!-- <div id="main">
        <h1>Hello World!</h1>
        <p>Lorem ipsum dolor sit amet...</p>
    </div> -->

    <!-- use the webpage here and possibly use keyboard shortcuts to inject new views -->
    <!-- https://www.geeksforgeeks.org/dynamic-styling-in-electronjs/amp/ -->

    <body>
    <div class="container">
        <div class="Header"></div>
        <div class="SpaceLeft"></div>
        <div class="GridView">GridView</div>
        <div class="Banner">Banner</div>
        <div class="RightBox1">RightBox1</div>
        <div class="RightBox2">RightBox2</div>
        <div class="SpaceRight"></div>
        <div class="GridView2"></div>
        <div class="Footer">Footer</div>

        <div id="InnerArea">
        <div id="grid1" class="Grid1">Grid1</div>
        <div id="grid2" class="Grid2">Grid2</div>
        <div id="grid3" class="Grid3">Grid3</div>
        <div id="grid4" class="Grid4">Grid4</div>
        <div id="grid5" class="Grid5">Grid5</div>
        <div id="grid6" class="Grid6">Grid6</div>
        <div id="grid7" class="Grid7">Grid7</div>
        <div id="grid8" class="Grid8">Grid8</div>
        <div id="grid9" class="Grid9">Grid9</div>
        <div id="grid10" class="Grid10">Grid10</div>
        <div id="grid11" class="Grid11">Grid11</div>
        <div id="grid12" class="Grid12">Grid12</div>
        <div id="grid13" class="Grid13">Grid13</div>
        <div id="grid14" class="Grid14">Grid14</div>
        <div id="grid15" class="Grid15">Grid15</div>
        <div id="grid16" class="Grid16">Grid16</div>

        <script>
            // Define the key that will trigger the animation. Here, it is the "a" key.
            let state = "16";
            const triggerKeyR = "r";
            const triggerKeyA = "a";
            const triggerKeyE = "e";
            // const add = 'a';

            // using IDs to identify what needs to be removed because i could only figure out
            // how to remove 1 class name at a time - since id names unique
            // Add an event listener for the keydown event
            document.addEventListener("keydown", function (event) {
            // Check if the pressed key matches the trigger key
            if (event.key.toLowerCase() === triggerKeyR) {

                switch (state) {
                case "16":  window.alert(state);    state = "4";   forwardAnmiation(); break;
                case "4":   window.alert(state);    state = "16"; reverseAnmiation();  break;
                // case "4":   window.alert(state);    state = "2";    break;
                // case "2":   window.alert(state);    state = "1";    break;
                // case "1":   window.alert(state);    state = "2";    break;
                default:    break;
                }
                // comment this out for now
                // removeElementsByIds([
                // "grid2",
                // "grid4",
                // "grid5",
                // "grid6",
                // "grid7",
                // "grid8",
                // "grid10",
                // "grid12",
                // "grid13",
                // "grid14",
                // "grid15",
                // "grid16",
                // ]);
                // window.alert(state);
            }

            if (event.key.toLowerCase() === triggerKeyA) {
                addElementsByIds();
            }

            if (event.key.toLowerCase() === triggerKeyE) {
                // addElementsByIds();
                // function playAnimationInReverse(){
                    const element = document.getElementById('InnerArea');       
                    // element.style.animationPlayState = 'running';
                    // element.style.animationDirection = 'reverse';
                    // element.style.animationFillMode = 'forwards';
                // }
            }
        });
            // Store a reference to the removed elements
            let removedElements = [];
            
            function forwardAnmiation(){
                const animationElement = document.getElementById('InnerArea');
                animationElement.style.animationPlayState = 'running';
                animationElement.style.animationDirection = 'forward';
                // animationElement.style.animationFillMode = 'forwards';
            }
            
            function reverseAnmiation(){
                const animationElement = document.getElementById('InnerArea');
                animationElement.style.animationPlayState = 'running';
                animationElement.style.animationDirection = 'reverse';
                // animationElement.style.animationFillMode = 'forwards';
            }

            function removeElementsByIds(ids) {
            ids.forEach((id) => {
                // Select the element by its ID
                const element = document.getElementById(id);
                // animate the growth of the 4 graphs
                const animationElement = document.getElementById('InnerArea');
                animationElement.style.animationPlayState = 'running';
                // animationElement.style.animationDirection = 'forward';
                // animationElement.style.animationFillMode = 'forwards';
                if (element) {
                // Store a reference to the element and its parent
                removedElements.push({
                    element,
                    parent: element.parentNode,
                    nextSibling: element.nextSibling,
                });
                // Remove the element from the DOM
                element.remove();
                }
            });
            }

            function addElementsByIds() {
            // Append each stored element back to its original parent
            removedElements.forEach(({ element, parent, nextSibling }) => {
                if (nextSibling) {
                parent.insertBefore(element, nextSibling);
                } else {
                parent.appendChild(element);
                }
            }); // Clear the removedElements array
            removedElements = [];
            }
        </script>
        </div>
    </div>
    <!-- <script src="./renderer.js"></script> -->
    </body>
</head>
</html>
